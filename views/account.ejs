<% include _layouts/header %>

<section id="signin-section">
	<div class="container">
		<div class="row signin-row">
				<div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12" style="background-image: url('http://bespokesuitsnyc.com/me-43.jpg'); background-position: center right; background-repeat: no-repeat; background-size: cover;"></div>
				
				<div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12 signin-content">
						
					<ul class="nav nav-tabs justify-content-center" id="myTab" role="tablist">
						<li class="nav-item">
							<a class="nav-link active" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile" aria-expanded="true">Account</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" id="account-tab" data-toggle="tab" href="#account" role="tab" aria-controls="account">Shipping</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" id="change-password-tab" data-toggle="tab" href="#change-password" role="tab" aria-controls="change-password">Password</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" id="invoices-tab" data-toggle="tab" href="#invoices" role="tab" aria-controls="invoices">Invoices</a>
						</li>
					</ul>

					<div class="tab-content" id="myTabContent">
						<div class="tab-pane fade show active" id="profile" role="tabpanel" aria-labelledby="profile-tab">

							<form class="profileForm">
								<div class="form-row">
									<div class="form-group col-md-6">
										<label for="InputName" class="col-form-label">Name</label>
										<input type="text" class="form-control" id="InputName" value='<%= user.name %>'>
									</div>
									<div class="form-group col-md-6">
										<label for="InputSurname" class="col-form-label">Username</label>
										<input type="text" class="form-control" id="InputSurname" value='<%= user.username %>'>
									</div>
								</div>
								<div class="form-group">
									<label for="InputEmail">Email</label>
									<input type="email" class="form-control" id="InputEmail" aria-describedby="emailHelp" value='<%= user.email %>'>
								</div>
								<button type="submit" class="btn btn-primary profileButton">Save</button>
							</form>

						</div>

						<div class="tab-pane fade" id="account" role="tabpanel" aria-labelledby="account-tab">

							<form class="detailsForm">
								<div class="form-group">
									<label for="inputAddress" class="col-form-label">Address</label>
									<input type="text" class="form-control" id="inputAddress" value='<%= user.address %>'>
								</div>
								<div class="form-group">
									<label for="inputAddress2" class="col-form-label">Address Line 2</label>
									<input type="text" class="form-control" id="inputAddress2" value='<%= user.address2 %>'>
								</div>
								<div class="form-row">
									<div class="form-group col-md-6">
										<label for="inputCity" class="col-form-label">AddressLine3</label>
										<input type="text" class="form-control" id="inputAddress3" value='<%= user.address3 %>'>
									</div>
									<div class="form-group col-md-4">
										<label for="inputProvince" class="col-form-label">Province</label>
										<select id="inputProvince" class="form-control">
											<option value="Eastern Cape">Eastern Cape</option>
											<option value="Free State">Free State</option>
											<option value="Gauteng">Gauteng</option>
											<option value="KwaZulu-Natal">KwaZulu-Natal</option>
											<option value="Limpopo">Limpopo</option>
											<option value="Mpumalanga">Mpumalanga</option>
											<option value="Northen Cape">Northen Cape</option>
											<option value="North West">North West</option>
											<option value="Western Cape">Western Cape</option>
										</select>
									</div>
									<div class="form-group col-md-2">
										<label for="inputZip" class="col-form-label" >Zip</label>
										<input type="text" class="form-control" id="inputZip" value='<%= user.zip %>'>
									</div>
								</div>
								<button type="submit" class="btn btn-primary">Save</button>
							</form>

						</div>

						<div class="tab-pane fade" id="change-password" role="tabpanel" aria-labelledby="change-password-tab">

							<form class="passwordForm">
								<div class="form-group">
									<label for="OldPassword">Enter Old Password</label>
									<input type="password" class="form-control" id="OldPassword" placeholder="Password">
								</div>
								<div class="form-row">
									<div class="form-group col-md-6">
										<label for="NewPassword">New Password</label>
										<input type="password" class="form-control" id="NewPassword" placeholder="Password">
									</div>
									<div class="form-group col-md-6">
										<label for="ConfirmPassword">Confirm Password</label>
										<input type="password" class="form-control" id="ConfirmPassword" placeholder="Password">
									</div>
								</div>
								<button type="submit" class="btn btn-primary passwordButton">Save</button>
							</form>

						</div>

						<div class="tab-pane fade" id="invoices" role="tabpanel" aria-labelledby="invoices-tab">
							<ol class="invoice-list">
	
								<% invoices.forEach(function(i){ %>
									<% var year = i.date.getFullYear() %>
									<% var month = i.date.getMonth() + 1 %>
									<% var day = i.date.getDate() + 1 %>

									<li class="invoice-item">
										<a class="invoice-link" href="/users/account/invoice/<%= i._id %>">
											<span id="invoice-date"><%= day %>/<%= month %>/<%= year %> -</span>
											<span id="invoice-reference">Ref: <%= i._id %></span>
										</a>
									</li>
								<% }); %>
								
							</ol>
						</div>

					</div>

						

				</div>

			</div>
	</div>
</section>

<script type="text/javascript">
	
	$('button.registerButton').click(function() {
		$('form.profileForm').submit();
	});
	$('button.detailsButton').click(function() {
		$('form.detailsForm').submit();
	});
	$('button.detailsButton').click(function() {
		$('form.detailsForm').submit();
	});

</script>

<% include _layouts/footer %>
