<%- include('../_layouts/adminheader') %>

<section>
    <div class="container">
        <h1 class="display-4" style="padding-bottom: .5em;">Add Product</h1>
        <a href="/admin/products" class="btn btn-secondary">Back to all products</a>
        <br><br>

        <form method="post" action="/admin/products/add-product" enctype="multipart/form-data">

            <div class="form-group">
                <label for="">Title</label>
                <input type="text" class="form-control" name="title" value="<%= title %>" placeholder="Title">
            </div>

            <div class="form-group">
                <label for="">Category</label>
                <select name="category" class="form-control">
                    <% categories.forEach(function(cat) { %>
                        <option value="<%= cat.slug %>"><%= cat.title %></option>
                    <% }); %>
                </select>
            </div>

            <div class="form-group">
                <label for="">Short Description</label>
                <input type="text" class="form-control" name="shortDesc" value="<%= shortDesc %>" placeholder="Short Description">
            </div>

            <div class="form-group">
                <label for="">Long Description</label>
                <textarea class="form-control" cols="30" rows="10" name="desc" placeholder="Long Description"><%= desc %></textarea>
            </div>

            <div class="form-group">
                <label for="">Price</label>
                <input type="text" class="form-control" name="price" value="<%= price %>" placeholder="Price">
            </div>

            <div class="form-group">
                <label for="">Colour</label>
                <input type="text" class="form-control" name="colour" value="<%= colour %>" placeholder="Colour">
            </div>

            <div class="form-group">
                <label for="">Material</label>
                <input type="text" class="form-control" name="material" value="<%= material %>" placeholder="Material">
            </div>

            <div class="form-group">
                <label for="">Main Image</label>
                <input type="file" class="form-control" name="image1" id="img1">
                <img src="#" id="imgPreview1" alt="">
            </div>

            <div class="form-group">
                <label for="">Secondary Image</label>
                <input type="file" class="form-control" name="image2" id="img2">
                <img src="#" id="imgPreview2" alt="">
            </div>

            <div class="form-group">
                <label for="">Tertiary Image</label>
                <input type="file" class="form-control" name="image3" id="img3">
                <img src="#" id="imgPreview3" alt="">
            </div>

            <button class="btn btn-primary" style="cursor:pointer;">Add Product</button>

        </form>
    </div>
</section>

<script type="text/javascript">

    function readURL1(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function(e) {
                $("#imgPreview1").attr('src', e.target.result).width(200);
            }

            reader.readAsDataURL(input.files[0]);
        }
    }
    function readURL2(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function(e) {
                $("#imgPreview2").attr('src', e.target.result).width(200);
            }

            reader.readAsDataURL(input.files[0]);
        }
    }
    function readURL3(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function(e) {
                $("#imgPreview3").attr('src', e.target.result).width(200);
            }

            reader.readAsDataURL(input.files[0]);
        }
    }

    $("#img1").change(function() {
        readURL1(this);
    });
    $("#img2").change(function() {
        readURL2(this);
    });
    $("#img3").change(function() {
        readURL3(this);
    });

</script>

<%- include('../_layouts/adminfooter') %>